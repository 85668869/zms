(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47fde93b"],{"1c53":function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticClass:"l-page l-page--flex"},[t("div",{staticClass:"service_add_header"},[e._v("添加服务节点到"+e._s(e.serverName))]),t("div",{staticClass:"l-page__content"},[t("div",{staticClass:"content--padding"},[t("div",{staticClass:"content__body"},[t("add-instance",{directives:[{name:"show",rawName:"v-show",value:"instance"==e.activeTabName,expression:"activeTabName == 'instance'"}],ref:"addInstance",attrs:{"env-id":e.envId,"server-type":e.serverType,"instance-type":e.serverInstanceTypeMap[e.serverType]},on:{reloadServiceConfig:e.reloadServiceConfig}}),e.addServiceFlg?t("add-service",{directives:[{name:"show",rawName:"v-show",value:"service"==e.activeTabName,expression:"activeTabName == 'service'"}],ref:"addService",attrs:{"env-id":e.envId,"server-type":e.serverType,"instance-type":e.instanceType}}):e._e(),e.addRunFlg?t("add-run",{directives:[{name:"show",rawName:"v-show",value:"run"==e.activeTabName,expression:"activeTabName == 'run'"}],ref:"addRun",attrs:{"env-id":e.envId,"server-id":e.serverId,"server-type":e.serverType,"server-name":e.serverName,"property-list":e.propertyList,"instance-list":e.instanceList},on:{runComplete:e.runComplete}}):e._e(),e.addCompleteFlg?t("add-complete",{directives:[{name:"show",rawName:"v-show",value:"complete"==e.activeTabName,expression:"activeTabName == 'complete'"}],ref:"addComplete"}):e._e()],1),t("div",{staticClass:"left-button"},[t("el-button",{staticStyle:{width:"68px"},attrs:{disabled:"run"==e.activeTabName,size:"small"},on:{click:e.backService}},[e._v(" 返回 ")]),t("el-button",{staticStyle:{"margin-left":"525px"},attrs:{disabled:e.nextDisable,size:"small",type:"primary"},on:{click:e.nextService}},[e._v(" "+e._s("run"==this.activeTabName?"完成":"下一步")+" ")])],1)])])])},i=[],r=t("1b62"),n=t("5877"),c=t("547f"),d=t("f704"),v=t("58ee"),o={name:"serviceAddHome",mixins:[r["b"],r["a"]],components:{addService:c["a"],addInstance:n["a"],addRun:d["a"],addComplete:v["a"]},data:function(){return{envId:"",serviceId:"",nextDisable:!1,activeTabName:"instance",addServiceFlg:!1,addRunFlg:!1,addCompleteFlg:!1,serverType:"",serverName:"",propertyList:[],instanceList:[],instanceType:[],serverInstanceTypeMap:{ZMSCollector:["INSTANCE"],ZMSAlert:["INSTANCE"],Kafka:["BROKER"],Rocketmq:["NAMESVR","BROKER"],Zookeeper:["INSTANCE"],InfluxDB:["INSTANCE"],ZMSBackupCluster:["INSTANCE"]}}},created:function(){this.envId=this.$route.params.envId,this.serverName=this.$route.params.serverName,this.serverId=this.$route.params.serverId,this.serverType=this.$route.params.serverType},methods:{reloadServiceConfig:function(){this.addServiceFlg&&this.$refs.addService.loadServiceInstanceConfig(this.$refs.addInstance.serviceAddInstanceForm.instanceType)},runComplete:function(){this.nextDisable=!1},nextService:function(){if("instance"===this.activeTabName){var e=this.$refs.addInstance.validInstanceData();if(!e)return;this.instanceList=this.$refs.addInstance.serviceAddInstanceForm.instanceList,this.instanceType=this.$refs.addInstance.serviceAddInstanceForm.instanceType,this.addServiceFlg=!0,this.activeTabName="service"}else if("service"===this.activeTabName){var a=this.$refs.addService.serviceInstanceConfigSave();if(!a)return;this.propertyList=this.$refs.addService.serviceConfigData,this.addRunFlg=!0,this.activeTabName="run",this.nextDisable=!0}else("run"===this.activeTabName||"complete"===this.activeTabName)&&this.$router.push({name:"serviceHome",params:{id:this.serverId,tab:"instance"}})},backService:function(){"instance"===this.activeTabName?this.$router.go(-1):"service"===this.activeTabName?this.activeTabName="instance":"run"===this.activeTabName?this.activeTabName="service":"complete"===this.activeTabName&&(this.activeTabName="run")}}},l=o,m=(t("8370"),t("2877")),p=Object(m["a"])(l,s,i,!1,null,null,null);a["default"]=p.exports},8370:function(e,a,t){"use strict";var s=t("ddb8"),i=t.n(s);i.a},ddb8:function(e,a,t){}}]);